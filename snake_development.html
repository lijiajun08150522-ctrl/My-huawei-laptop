<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´ªåƒè›‡å¼€å‘è¿‡ç¨‹ - åŠ¨ç”»æ¼”ç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1000px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #2E7D32;
            margin-bottom: 20px;
            font-size: 36px;
        }

        .stage-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }

        .stage {
            background: #f5f5f5;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #4CAF50;
            transition: all 0.3s;
        }

        .stage.active {
            background: #e8f5e9;
            border-left-color: #2E7D32;
        }

        .stage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .stage-number {
            background: #4CAF50;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
        }

        .stage.active .stage-number {
            background: #2E7D32;
        }

        .stage-title {
            font-size: 20px;
            color: #333;
            font-weight: bold;
        }

        .stage-content {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .canvas-wrapper {
            background: #1E1E1E;
            border-radius: 8px;
            padding: 10px;
        }

        canvas {
            display: block;
            border-radius: 5px;
        }

        .stage-description {
            flex: 1;
        }

        .stage-description h4 {
            color: #2E7D32;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .stage-description ul {
            color: #555;
            font-size: 14px;
            line-height: 1.8;
            padding-left: 20px;
        }

        .progress-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .progress-dot {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
        }

        .progress-dot.active {
            background: #4CAF50;
            color: white;
        }

        .progress-dot.completed {
            background: #2E7D32;
            color: white;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            color: white;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .info-panel {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .info-panel h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .info-panel p {
            color: #666;
            line-height: 1.6;
        }

        .timeline {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            overflow-x: auto;
        }

        .timeline-item {
            min-width: 150px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .timeline-item.active {
            border-color: #4CAF50;
            background: #e8f5e9;
        }

        .timeline-item h4 {
            color: #2E7D32;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .timeline-item p {
            color: #666;
            font-size: 12px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ è´ªåƒè›‡å¼€å‘è¿‡ç¨‹ - ä»0åˆ°1</h1>

        <div class="progress-bar">
            <div class="progress-dot completed" onclick="showStage(1)">1</div>
            <div class="progress-dot completed" onclick="showStage(2)">2</div>
            <div class="progress-dot completed" onclick="showStage(3)">3</div>
            <div class="progress-dot completed" onclick="showStage(4)">4</div>
            <div class="progress-dot active" onclick="showStage(5)">5</div>
        </div>

        <div class="timeline">
            <div class="timeline-item active" onclick="showStage(1)">
                <h4>é˜¶æ®µ1</h4>
                <p>åŸºç¡€æ¡†æ¶</p>
            </div>
            <div class="timeline-item active" onclick="showStage(2)">
                <h4>é˜¶æ®µ2</h4>
                <p>æ¸¸æˆé€»è¾‘</p>
            </div>
            <div class="timeline-item active" onclick="showStage(3)">
                <h4>é˜¶æ®µ3</h4>
                <p>é£Ÿç‰©ç³»ç»Ÿ</p>
            </div>
            <div class="timeline-item active" onclick="showStage(4)">
                <h4>é˜¶æ®µ4</h4>
                <p>å¾—åˆ†ç³»ç»Ÿ</p>
            </div>
            <div class="timeline-item active" onclick="showStage(5)">
                <h4>é˜¶æ®µ5</h4>
                <p>å®Œæ•´æ¸¸æˆ</p>
            </div>
        </div>

        <div class="stage-container" id="stages">
            <!-- é˜¶æ®µ1ï¼šåŸºç¡€æ¡†æ¶ -->
            <div class="stage fade-in" id="stage1">
                <div class="stage-header">
                    <span class="stage-number">é˜¶æ®µ 1</span>
                    <span class="stage-title">ğŸ—ï¸ åŸºç¡€æ¡†æ¶æ­å»º</span>
                </div>
                <div class="stage-content">
                    <div class="canvas-wrapper">
                        <canvas id="canvas1" width="300" height="200"></canvas>
                    </div>
                    <div class="stage-description">
                        <h4>å®ç°å†…å®¹</h4>
                        <ul>
                            <li>âœ… åˆ›å»ºHTML5 Canvasç”»å¸ƒ</li>
                            <li>âœ… è®¾è®¡æ¸¸æˆåŒºåŸŸï¼ˆ600x400ï¼‰</li>
                            <li>âœ… ç»˜åˆ¶ç½‘æ ¼èƒŒæ™¯</li>
                            <li>âœ… å»ºç«‹åŸºç¡€æ•°æ®ç»“æ„</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- é˜¶æ®µ2ï¼šæ¸¸æˆé€»è¾‘ -->
            <div class="stage fade-in" id="stage2">
                <div class="stage-header">
                    <span class="stage-number">é˜¶æ®µ 2</span>
                    <span class="stage-title">ğŸ® æ¸¸æˆæ ¸å¿ƒé€»è¾‘</span>
                </div>
                <div class="stage-content">
                    <div class="canvas-wrapper">
                        <canvas id="canvas2" width="300" height="200"></canvas>
                    </div>
                    <div class="stage-description">
                        <h4>å®ç°å†…å®¹</h4>
                        <ul>
                            <li>âœ… è›‡çš„æ•°æ®ç»“æ„ï¼ˆæ•°ç»„ï¼‰</li>
                            <li>âœ… è›‡çš„ç§»åŠ¨é€»è¾‘</li>
                            <li>âœ… å››ä¸ªæ–¹å‘æ§åˆ¶ï¼ˆâ†‘â†“â†â†’ï¼‰</li>
                            <li>âœ… é˜²æ­¢æ‰å¤´æœºåˆ¶</li>
                            <li>âœ… æ¸¸æˆå¾ªç¯</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- é˜¶æ®µ3ï¼šé£Ÿç‰©ç³»ç»Ÿ -->
            <div class="stage fade-in" id="stage3">
                <div class="stage-header">
                    <span class="stage-number">é˜¶æ®µ 3</span>
                    <span class="stage-title">ğŸ é£Ÿç‰©ç³»ç»Ÿ</span>
                </div>
                <div class="stage-content">
                    <div class="canvas-wrapper">
                        <canvas id="canvas3" width="300" height="200"></canvas>
                    </div>
                    <div class="stage-description">
                        <h4>å®ç°å†…å®¹</h4>
                        <ul>
                            <li>âœ… é£Ÿç‰©éšæœºç”Ÿæˆ</li>
                            <li>âœ… é¿å…é£Ÿç‰©ä¸è›‡èº«é‡å </li>
                            <li>âœ… ç¢°æ’æ£€æµ‹ï¼ˆåƒé£Ÿç‰©ï¼‰</li>
                            <li>âœ… è›‡èº«å¢é•¿é€»è¾‘</li>
                            <li>âœ… æ–°é£Ÿç‰©è‡ªåŠ¨ç”Ÿæˆ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- é˜¶æ®µ4ï¼šå¾—åˆ†ç³»ç»Ÿ -->
            <div class="stage fade-in" id="stage4">
                <div class="stage-header">
                    <span class="stage-number">é˜¶æ®µ 4</span>
                    <span class="stage-title">ğŸ“Š å¾—åˆ†ä¸å…³å¡ç³»ç»Ÿ</span>
                </div>
                <div class="stage-content">
                    <div class="canvas-wrapper">
                        <canvas id="canvas4" width="300" height="200"></canvas>
                    </div>
                    <div class="stage-description">
                        <h4>å®ç°å†…å®¹</h4>
                        <ul>
                            <li>âœ… å¾—åˆ†è®¡ç®—ï¼ˆ+10/é£Ÿç‰©ï¼‰</li>
                            <li>âœ… å…³å¡å‡çº§ï¼ˆ5é£Ÿç‰©/çº§ï¼‰</li>
                            <li>âœ… å…³å¡å¥–åŠ±ï¼ˆ+50/çº§ï¼‰</li>
                            <li>âœ… é€Ÿåº¦é€’å¢ï¼ˆ200msâ†’60msï¼‰</li>
                            <li>âœ… æœ€é«˜åˆ†è®°å½•ï¼ˆlocalStorageï¼‰</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- é˜¶æ®µ5ï¼šå®Œæ•´æ¸¸æˆ -->
            <div class="stage active fade-in" id="stage5">
                <div class="stage-header">
                    <span class="stage-number">é˜¶æ®µ 5</span>
                    <span class="stage-title">ğŸ‰ å®Œæ•´æ¸¸æˆä¸UI</span>
                </div>
                <div class="stage-content">
                    <div class="canvas-wrapper">
                        <canvas id="canvas5" width="300" height="200"></canvas>
                    </div>
                    <div class="stage-description">
                        <h4>å®ç°å†…å®¹</h4>
                        <ul>
                            <li>âœ… å®Œæ•´çš„æ¸¸æˆUIç•Œé¢</li>
                            <li>âœ… ç¢°æ’æ£€æµ‹ï¼ˆæ’å¢™/æ’è‡ªå·±ï¼‰</li>
                            <li>âœ… æ¸¸æˆç»“æŸé€»è¾‘</li>
                            <li>âœ… å¼€å§‹/æš‚åœ/é‡æ–°å¼€å§‹</li>
                            <li>âœ… å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯ï¼‰</li>
                            <li>âœ… åŠ¨ç”»æ•ˆæœå’Œè§†è§‰åé¦ˆ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn" id="prevBtn" onclick="changeStage(-1)" disabled>â† ä¸Šä¸€æ­¥</button>
            <button class="btn" id="playBtn" onclick="autoPlay()">â–¶ è‡ªåŠ¨æ’­æ”¾</button>
            <button class="btn" id="nextBtn" onclick="changeStage(1)">ä¸‹ä¸€æ­¥ â†’</button>
        </div>

        <div class="info-panel">
            <h3>ğŸ’¡ ä½¿ç”¨æç¤º</h3>
            <p>ç‚¹å‡»ä¸Šæ–¹è¿›åº¦æ¡æˆ–æ—¶é—´çº¿è·³è½¬åˆ°ä¸åŒé˜¶æ®µï¼Œæˆ–ä½¿ç”¨"è‡ªåŠ¨æ’­æ”¾"è§‚çœ‹å®Œæ•´å¼€å‘è¿‡ç¨‹ã€‚æ¯ä¸ªé˜¶æ®µå±•ç¤ºå¼€å‘çš„å…³é”®åŠŸèƒ½å’Œå®ç°ç»†èŠ‚ã€‚</p>
        </div>
    </div>

    <script>
        let currentStage = 5;
        const totalStages = 5;
        let isPlaying = false;
        let playInterval = null;

        // ç”»å¸ƒé…ç½®
        const GRID_SIZE = 20;
        const CANVAS_WIDTH = 300;
        const CANVAS_HEIGHT = 200;
        const COLS = CANVAS_WIDTH / GRID_SIZE;
        const ROWS = CANVAS_HEIGHT / GRID_SIZE;

        // æ¸¸æˆçŠ¶æ€
        const stages = {
            1: {
                name: 'åŸºç¡€æ¡†æ¶',
                hasSnake: false,
                hasFood: false,
                hasScore: false
            },
            2: {
                name: 'æ¸¸æˆé€»è¾‘',
                hasSnake: true,
                hasFood: false,
                hasScore: false
            },
            3: {
                name: 'é£Ÿç‰©ç³»ç»Ÿ',
                hasSnake: true,
                hasFood: true,
                hasScore: false
            },
            4: {
                name: 'å¾—åˆ†ç³»ç»Ÿ',
                hasSnake: true,
                hasFood: true,
                hasScore: true
            },
            5: {
                name: 'å®Œæ•´æ¸¸æˆ',
                hasSnake: true,
                hasFood: true,
                hasScore: true
            }
        };

        // åˆå§‹åŒ–ç”»å¸ƒ
        function initCanvas(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');

            // æ¸…ç©ºç”»å¸ƒ
            ctx.fillStyle = '#1E1E1E';
            ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);

            // ç»˜åˆ¶ç½‘æ ¼
            ctx.strokeStyle = '#333333';
            ctx.lineWidth = 0.5;
            for (let i = 0; i <= COLS; i++) {
                ctx.beginPath();
                ctx.moveTo(i * GRID_SIZE, 0);
                ctx.lineTo(i * GRID_SIZE, CANVAS_HEIGHT);
                ctx.stroke();
            }
            for (let i = 0; i <= ROWS; i++) {
                ctx.beginPath();
                ctx.moveTo(0, i * GRID_SIZE);
                ctx.lineTo(CANVAS_WIDTH, i * GRID_SIZE);
                ctx.stroke();
            }

            return { canvas, ctx };
        }

        // ç»˜åˆ¶è›‡
        function drawSnake(ctx, snake) {
            snake.forEach((segment, index) => {
                if (index === 0) {
                    ctx.fillStyle = '#2E7D32'; // è›‡å¤´
                } else {
                    ctx.fillStyle = '#4CAF50'; // è›‡èº«
                }
                ctx.fillRect(
                    segment.x * GRID_SIZE + 1,
                    segment.y * GRID_SIZE + 1,
                    GRID_SIZE - 2,
                    GRID_SIZE - 2
                );
            });
        }

        // ç»˜åˆ¶é£Ÿç‰©
        function drawFood(ctx, food) {
            const centerX = food.x * GRID_SIZE + GRID_SIZE / 2;
            const centerY = food.y * GRID_SIZE + GRID_SIZE / 2;
            const radius = GRID_SIZE / 2 - 2;

            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.fillStyle = '#F44336';
            ctx.fill();

            // é—ªçƒæ•ˆæœ
            ctx.beginPath();
            ctx.arc(centerX - 2, centerY - 2, radius / 3, 0, 2 * Math.PI);
            ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.fill();
        }

        // ç»˜åˆ¶å¾—åˆ†ä¿¡æ¯
        function drawScore(ctx, stage) {
            ctx.fillStyle = '#4CAF50';
            ctx.font = 'bold 16px Arial';
            ctx.fillText('Score: 0', 10, 20);

            if (stage >= 4) {
                ctx.fillText('Level: 1', 10, 40);
            }
        }

        // æ›´æ–°ç‰¹å®šé˜¶æ®µçš„ç”»å¸ƒ
        function updateStageCanvas(stageNum) {
            const { ctx } = initCanvas(`canvas${stageNum}`);
            const stage = stages[stageNum];

            if (stage.hasSnake) {
                let snake;
                if (stageNum === 2) {
                    // é˜¶æ®µ2ï¼šç®€å•çš„è›‡
                    snake = [{ x: 5, y: 5 }, { x: 4, y: 5 }, { x: 3, y: 5 }];
                } else {
                    // é˜¶æ®µ3-5ï¼šæ›´é•¿çš„è›‡
                    snake = [
                        { x: 7, y: 5 }, { x: 6, y: 5 }, { x: 5, y: 5 },
                        { x: 4, y: 5 }, { x: 3, y: 5 }
                    ];
                }
                drawSnake(ctx, snake);
            }

            if (stage.hasFood) {
                const food = { x: 10, y: 5 };
                drawFood(ctx, food);
            }

            if (stage.hasScore) {
                drawScore(ctx, stageNum);
            }

            // æ·»åŠ é˜¶æ®µæ ‡ç­¾
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.fillText(`Stage ${stageNum}: ${stage.name}`, 10, CANVAS_HEIGHT - 10);
        }

        // æ›´æ–°æ‰€æœ‰ç”»å¸ƒ
        function updateAllCanvases() {
            for (let i = 1; i <= totalStages; i++) {
                updateStageCanvas(i);
            }
        }

        // æ˜¾ç¤ºç‰¹å®šé˜¶æ®µ
        function showStage(stageNum) {
            currentStage = stageNum;

            // æ›´æ–°è¿›åº¦æ¡
            document.querySelectorAll('.progress-dot').forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                if (index < stageNum) {
                    dot.classList.add('completed');
                } else if (index === stageNum - 1) {
                    dot.classList.add('active');
                }
            });

            // æ›´æ–°æ—¶é—´çº¿
            document.querySelectorAll('.timeline-item').forEach((item, index) => {
                item.classList.remove('active');
                if (index < stageNum) {
                    item.classList.add('active');
                }
            });

            // æ›´æ–°é˜¶æ®µæ˜¾ç¤º
            document.querySelectorAll('.stage').forEach((stage, index) => {
                stage.classList.remove('active');
                if (index === stageNum - 1) {
                    stage.classList.add('active');
                }
            });

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('prevBtn').disabled = (currentStage === 1);
            document.getElementById('nextBtn').disabled = (currentStage === totalStages);

            // æ›´æ–°æ‰€æœ‰ç”»å¸ƒ
            updateAllCanvases();
        }

        // åˆ‡æ¢é˜¶æ®µ
        function changeStage(direction) {
            const newStage = currentStage + direction;
            if (newStage >= 1 && newStage <= totalStages) {
                showStage(newStage);
            }
        }

        // è‡ªåŠ¨æ’­æ”¾
        function autoPlay() {
            if (isPlaying) {
                stopAutoPlay();
            } else {
                startAutoPlay();
            }
        }

        function startAutoPlay() {
            isPlaying = true;
            document.getElementById('playBtn').textContent = 'â¸ æš‚åœ';

            playInterval = setInterval(() => {
                if (currentStage < totalStages) {
                    changeStage(1);
                } else {
                    stopAutoPlay();
                }
            }, 3000); // æ¯3ç§’åˆ‡æ¢ä¸€æ¬¡
        }

        function stopAutoPlay() {
            isPlaying = false;
            document.getElementById('playBtn').textContent = 'â–¶ è‡ªåŠ¨æ’­æ”¾';
            if (playInterval) {
                clearInterval(playInterval);
                playInterval = null;
            }
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            showStage(1);
            updateAllCanvases();
        });
    </script>
</body>
</html>
